网络工作组 G. Camarillo, Ed.
请求评论： 5649   为了IAB
分类: 情报类	2009年11月

点对点（P2P）结构：定义，分类，实例和应用

摘要

在这份文档中，我们提供了一份关于点对点（P2P)系统的调查报告。这份调查包括一个 P2P
系统的定义和几种不同的 P2P 系统分类。这份调查还描述了何种应用可以用 P2P 技术来实
现以及几个正在使用中的 P2P 互联网应用。最后，这份调查讨论了各种结构之间的利弊权
衡并提供一份判断 P2P 结构是否适用于一种应用的指南。

这份备忘录的状态

这份备忘录仅仅为互联网社区提供了一些信息，并非一种特定的互联网标准。您可以随意分
发这份备忘录。

版权

Copyright (c) 2009 IETF 信任者和这篇文档的署名作者。版权归以上所有。

这份文档属于 BCP78，IETF 信任者的法律规定(http://trustee.ietf.org/license-info)
自 IETF 相关文档发表之时起对该文档生效。请仔细阅读上述文档，因为它给出了您关于这
份文档的权利和限制。文档相关的代码部分通常包含了一份 BSD 许可协议，这份协议在上
述文档的第四节也有描述。代码造成的任何损失均与 IETF 无关。


第一页
目录
1. 介绍.....3
2. P2P 系统的定义.....3
   2.1. DNS 是不是 P2P 系统....5
   2.2. SIP 是不是 P2P 系统....5
   2.3. P2PSIP 是不是 P2P 系统....6
   2.4. BitTorrent 是不是 P2P 系统....7
3. P2P 系统的功能....7
4. P2P 系统的分类....8
5. P2P 应用....10
   5.1. 内容分发....10
   5.2. 分布式计算....12
   5.3. 协同....13
   5.4. 平台....14
6. 各种 P2P 系统结构的利弊和选用指南....14
7. P2P 系统安全....16
8. 相关知识....19
9. 文档写作时 IAB 会员数目....19
10. 参考....19
附录 A  分布式结构的历史背景....25


第二页

1. 介绍

P2P (点对点) 系统在最近几年很受关注。大量的科技出版物涉及 P2P 系统的各个方面，一
些明确讨论 P2P 网络的科技会议陆续召开，互联网工程工作小组（IETF）也设立了专门的
P2P 研究小组。现在正在使用中的互联网商业和非商业应用中也有很多是按照 P2P 的规则
来构建的。这其中有一些是现今非常流行的互联网应用。

然而，至今为止，那些设计系统或者开发协议详细规格的工程师们对 P2P 系统的理解仍然
因人而异。另一个令人担忧的事实是，很多电信业和数据通信业的从业人员相信 P2P 就是
非法活动（诸如非法利用互联网交换文件和 P2P 僵尸网络）的同义词.

所以写这份文档的目的有三个：首先，讨论用 P2P 架构或其他系统架构（如 C/S）实现一
个应用之间的利弊关系；其次，让工程师们对 P2P 系统有一个宏观上的认识，使他们了解 
P2P 系统能够提供的特性，以及什么样的应用可以用 P2P 技术来实现，这些知识帮助他们
理解 P2P 架构和其他架构之间的区别，从而决定是否使用 P2P 技术来实现他们的应用；最
后，文档通篇提供了几个使用 P2P 系统实现的完全合法的应用以证明 P2P 技术事实上也可
以用了构建合法的应用。

2. P2P 系统的定义

要讨论 P2P 系统，首先要有一个可以使用的 P2P 定义。在这一节，我们将定义什么是
P2P 系统。本文档中所有的讨论都将遵守这个定义。除了 P2P 系统的例子，本文还提供了
一些严格来说不是 P2P 系统的例子，他们并非完全符合 P2P 定义的系统。因此，本文的讨
论可能只在某些方面适用于这些系统。之所以提到这些系统是想强调 P2P 系统和集中式系
统并非没有交点的两种系统，事实上有很多系统都是处于这两种系统之间的系统。


第三页

P2P 这个术语在文中出现的地方非常多，有些时候它们之间的意思是有些差异的。在不同的
科技文献中，这个词的定义也不是完全一样的。如果在算上其他材料（例如市场调查资料）
中的定义，这个术语意思就多了。

实际上 P2P 模型和其他相反的模型（如 C/S 模型）并没有明显的界限【Milojicic2002】
。非常极端的情况下，有些系统是纯 P2P 架构，而有些系统则是纯 C/S 架构。但是根据不
同的 P2P 定义，也有一些系统可以被认为是两者之一，或者两者的混合体。所以，理解哪
些是所有不同 P2P 定义中的共性,哪些是作者自己添加的特征是非常重要的。

当构成系统的部分共享他们的资源来共同提供系统被设计提供的服务，并且组成系统的部分
不仅为系统的其它部分提供服务还从系统的其他部分请求服务时，我们认为这个系统是
P2P 系统。

原则上，只有组成系统的所有部分都符合上面的定义时，这个系统才是 P2P 系统。而实际
上，存在例外情况（例如有些节点不满足上述定义）的系统仍然被认为是 P2P 系统。例如,
一个包含中心注册服务器的系统仍然可以认为是一个 P2P 系统。另外，也有一些系统把
节点中的 peers 和 clients 区分开，peers 提供服务的同时也向其他 peers 请求服务，
而 clients 通常只请求服务。如果一个系统中的大部分节点都是 clients 的话，这个系统
严格意义上是不能称为 P2P 系统的。虽然大部分的定义都没有明确规定，但是很多定义中
都隐含了一个 P2P 必备的特性――系统中的节点都需要传输系统提供服务的数据，而这些数
据可能并非节点所需要的。

有些作者认为组成系统的部分，也就是 peers ，应该能够不经过中介直接相互通信
【Schollmeier2001】。还有一些作者认为系统应该具有自组织和分布式管理功能
【Roussopulus2004】。


第四页

需要注意的是，前面的定义有一个前提――系统只提供一种独立的服务。而一种复杂的服务可
能由几种独立的服务组合在一起。这些独立的服务可能是 P2P 服务，也有可能是 C/S
服务。例如，一个文件分享客户端可能包括一个实现文件分享服务 P2P 客户端和一个用来
访问附加信息的浏览器程序。另外，有的系统架构使用 C/S 系统作为提供服务的 P2P 系统
的备用系统，或者相反。

一种服务通常包含数据处理和数据存储。根据我们的定义，P2P 系统中的 peers 共享它们
的处理能力和储存能力（也就是它们的软硬件资源）来提供系统的服务。例如，系统要提供
文件的分布式存储服务，文件就会被存储到系统中不同的 peers 中。当系统中的一个
peer 想要获取某个特定的文件是，它首先要找到存储这个文件的 peer 或者 peers 然后再
从这些 peers 获取这个文件。

有了 P2P 系统的定义，我们就能判断一个系统是不是 P2P 系统。下面我们就利用 P2P 系
统的定义来判断 DNS, SIP, P2PSIP 和 BitTorrent 是不是 P2P 系统。

2.1 DNS 是不是 P2P 系统

DNS 是一个分层的分布式系统，它有时被认为是一种分层的 C/S 系统，有时被认为是 P2P
系统【Milojicic2002】。根据我们的定义，DNS 不是一个 P2P 系统。因为 DNS 系统中的
地址解析器只请求服务而不提供服务，而根据我们的定义，P2P 系统的组成部分必须同时扮
演服务请求者和提供者的角色。

2.2 SIP 是不是 P2P 系统

SIP [RFC3261] 是一种可以让一个用户定位一个远端的用户并与之建立通信会话的集中式协
议。当远端用户被定位后，在所有的 SIP 系统中，直接连接两者的会话就会建立起来。用
户汇合功能可以用传统的 SIP 方式和 P2P 方式两种不同的方式实现。这一节讨论前一种实
现，下一节讨论后一种实现。
